<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Capitulo 3 Titulo 1 | Investigación Social Abierta</title>
  <meta name="description" content="Libro Investigación Social Abierta">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Capitulo 3 Titulo 1 | Investigación Social Abierta" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Libro Investigación Social Abierta" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capitulo 3 Titulo 1 | Investigación Social Abierta" />
  
  <meta name="twitter:description" content="Libro Investigación Social Abierta" />
  

<meta name="author" content="Juan Carlos Castillo">


<meta name="date" content="2019-08-23">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="documentos-reproducibles.html">
<link rel="next" href="control-de-versiones.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Investigacion Social Abierta</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Presentación</a></li>
<li class="chapter" data-level="1" data-path="introduccion.html"><a href="introduccion.html"><i class="fa fa-check"></i><b>1</b> Introducción</a></li>
<li class="chapter" data-level="2" data-path="documentos-reproducibles.html"><a href="documentos-reproducibles.html"><i class="fa fa-check"></i><b>2</b> Documentos reproducibles</a><ul>
<li class="chapter" data-level="2.1" data-path="documentos-reproducibles.html"><a href="documentos-reproducibles.html#sobre-texto-plano"><i class="fa fa-check"></i><b>2.1</b> Sobre texto plano</a></li>
<li class="chapter" data-level="2.2" data-path="documentos-reproducibles.html"><a href="documentos-reproducibles.html#markdown"><i class="fa fa-check"></i><b>2.2</b> Markdown</a><ul>
<li class="chapter" data-level="2.2.1" data-path="documentos-reproducibles.html"><a href="documentos-reproducibles.html#marcas-de-edicion"><i class="fa fa-check"></i><b>2.2.1</b> Marcas de edición</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="titulo-1.html"><a href="titulo-1.html"><i class="fa fa-check"></i><b>3</b> Titulo 1</a><ul>
<li class="chapter" data-level="3.1" data-path="titulo-1.html"><a href="titulo-1.html#titulo-2"><i class="fa fa-check"></i><b>3.1</b> Título 2</a><ul>
<li class="chapter" data-level="3.1.1" data-path="titulo-1.html"><a href="titulo-1.html#titulo-3"><i class="fa fa-check"></i><b>3.1.1</b> Título 3</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="titulo-1.html"><a href="titulo-1.html#usando-atom-para-flujo-de-trabajo-academico-en-texto-plano-con-citas"><i class="fa fa-check"></i><b>3.2</b> Usando Atom para flujo de trabajo académico en texto plano con citas</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="control-de-versiones.html"><a href="control-de-versiones.html"><i class="fa fa-check"></i><b>4</b> Control de versiones</a></li>
<li class="chapter" data-level="5" data-path="flujos-reproducibles-y-colaborativos.html"><a href="flujos-reproducibles-y-colaborativos.html"><i class="fa fa-check"></i><b>5</b> Flujos reproducibles y colaborativos</a></li>
<li class="chapter" data-level="6" data-path="comunicacion.html"><a href="comunicacion.html"><i class="fa fa-check"></i><b>6</b> Comunicación</a></li>
<li class="chapter" data-level="7" data-path="flujo-x-en-atom.html"><a href="flujo-x-en-atom.html"><i class="fa fa-check"></i><b>7</b> Flujo X en Atom</a></li>
<li class="chapter" data-level="" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i>Referencias</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Investigación Social Abierta</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="titulo-1" class="section level1">
<h1><span class="header-section-number">Capitulo 3</span> Titulo 1</h1>
<div id="titulo-2" class="section level2">
<h2><span class="header-section-number">3.1</span> Título 2</h2>
<div id="titulo-3" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Título 3</h3>
<hr />
<p><strong>Negritas / cursivas</strong></p>
<pre><code>esto es **negrita**
esto es *cursiva*</code></pre>
<p>esto es <strong>negrita</strong>
esto es <em>cursiva</em></p>
<hr />
<p><strong>Listas</strong></p>
<pre><code>    ```
    - item 1
    - item 2
      - item sub 2
        - item sub 2 sub 2

    1. item
    2. item
        - item
        - item
    ```</code></pre>
<ul>
<li>item 1</li>
<li>item 2
<ul>
<li>item sub 2
<ul>
<li>item sub 2 sub 2</li>
</ul></li>
</ul></li>
</ul>
<ol style="list-style-type: decimal">
<li>item</li>
<li>item
<ul>
<li>item</li>
<li>item</li>
</ul></li>
</ol>
<hr />
<p><strong>Web links</strong></p>
<p><a href="http://www.facso.uchile.cl/">Facso</a>
<a href="http://www.facso.uchile.cl/">http://www.facso.uchile.cl/</a></p>
<pre><code>[Facso](http://www.facso.uchile.cl/)
[http://www.facso.uchile.cl/](http://www.facso.uchile.cl/)</code></pre>
<hr />
<p><strong>Imágenes</strong></p>
<p>En general:</p>
<pre><code>![](ruta-a-imagen/imagen.jpg)</code></pre>
<p>Ejemplo:</p>
<pre><code>![](images/knitr.png)</code></pre>
<p><img src="images/knitr.png" /></p>
<p>Esta imagen se encuentra en el subdirectorio images</p>
<p>Si se desea agregar otros elementos de edición como centrado o tamaño, hay que recurrir a marcas de html:</p>
<pre><code>&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;images/knitr.png&quot; width=&quot;240px&quot; height=&quot;280px&quot;/&gt;
&lt;/p&gt;</code></pre>
<p align="center">
<img src="images/knitr.png" width="240px" height="280px"/>
</p>
<p>Como se puede ver, markdown está hecho para edición simple, y cualquier aspecto que requiera una mayor edición implica recurrir a otros lenguajes, en este caso html.</p>
<p>bibliography:
- ‘MyLibrary.bib’
—</p>
<pre><code>
- para citar, se debe escribir el &quot;citation key&quot; de la referencia correspondiente.
- la lista de referencias aparece automáticamente al final del documento
- el estilo de bibliografía se debe indicar adicionalmente, basado en un archivo .csl correspondiente.Un listado de estilos disponibles se encuentra en: &lt;https://www.zotero.org/styles&gt;
- Luego el csl se agrega al YAML. Ej:
</code></pre>
<pre><code>
- Alternativas para automatizar la inserción de referencias:  ya que insertar referencias manualmente es muy engorroso, hay algunas alternativas de automatización que generan un flujo de trabajo similar al de insertar citas y bibliografía en Word/Open Office vía Zotero. El mejor entorno que conozco para hacer esto es Atom, porque sirve tanto para Latex como para Markdown. También hay una forma en Rstudio vía la librería/add-in &quot;citr&quot;. Comenzamos con esta:

- Usando Rstudio - citr &lt;https://github.com/crsh/citr&gt;:
  - Al instalar Rmarkdown, se instala automaticamente pandoc al interior de la carpeta de Rstudio (/usr/lib/rstudio/bin/pandoc), donde están los ejecutables pandoc y pandoc-citeproc. Por lo tanto, en archivos Rmd basta dar el nombre del archivo/path al bib  en el YAML header para que encuentre la bibliografía y la compile correctamente.
  - Instalar citr
  - reiniciar
  - Luego en el add-in (desplegable, o tools/add-ins) aparece &quot;insert citations&quot;, si está bien especificado el bib en el YAML debería aparecer aquí la lista de referencias.

## Markdown / Xaringan

[Xaringan]() es una librería de R que permite generar presentaciones en html basadas en [remark](https://remarkjs.com), que utiliza una estructura simple de markdown. Básicamente, lo que hace Remark es compilar un markdown + un poco de css a un html, y Xaringan se encarga de la parte css así que el usuario trabaja (casi) solo en markdown.

El problema: para generar el html no pasa por pandoc, así que no sigue la misma lógica de las citas de markdown. Pero ... todo tiene una vuelta de tuerca, y en este caso se puede utilizando el paquete de R [RefManageR](https://github.com/ropensci/RefManageR).

1. Indicar paquete y librería: en un chunk de setup luego del YAML header. La librería se indica con la función ReadBib de RefManageR (en este caso, en el mismo directorio, si no dar el path)

</code></pre>
<p><code>{r setup, include=FALSE}    options(htmltools.dir.version = TRUE)    pacman::p_load(RefManageR)    bib &lt;- ReadBib("merit_pref_int.bib", check = FALSE)</code></p>
<pre><code>
2. Para citar: los comandos básicos del RefManageR son Cite(), Citep() y Citet() (como en natbib), y en el paréntesis va el nombre del objeto generado antes y que contiene las referencias (bib) y la clave de la referencia como está en el Bibtex. Ejemplo: Cite(bib, &quot;castillo_2018&quot;). Ahora, como se trata de compilar a html sin pasar por pandoc, hay que dar la instrucción para que R/RefManageR hagan el trabajo, así que la cita se escribe en un mini-chunk de código:  r Cite (bib, &quot;castillo_2018&quot;)

3. Algunas complicaciones del RefManagerR

  - muy estricto con la librería .bib, si hay algo que falta en algún campo va a reportar el error. Por lo tanto, a menos que el .bib de la colección completa esté perfecto, es mejor hacer una subcolección de Zotero con las referencias y esta exportarla como Bibtext a la carpeta correspondiente donde se está trabajando
  - se puede usar el Zotero Picker en Atom para facilitar el trabajo, pero hay que sacarle manualmente la @ inicial que es automática para referencias en markdown que pasan por pandoc

3. Para generar las referencias: en la lámina que corresponde, incluir:
</code></pre>
<p><code>{r, results='asis', echo=FALSE} PrintBibliography(bib)</code>
````</p>
</div>
</div>
<div id="usando-atom-para-flujo-de-trabajo-academico-en-texto-plano-con-citas" class="section level2">
<h2><span class="header-section-number">3.2</span> Usando Atom para flujo de trabajo académico en texto plano con citas</h2>
<p>Aquí hay tres cosas que ver: insertar, preview y convert</p>
<ul>
<li>Insertar:
<ul>
<li>para insertar citaciones lo más fácil es instalar el zotero-picker, que automáticamente detecta la librería bib que se encuentra en la misma carpeta de Zotero (vía Better Bibtex). Funciona igual que el plugin clásico para procesadores de texto, shortcut alt-z</li>
<li>otra alternativa que se puede instalar en paralelo es el autocomplete-bibtex, que busca la cita una vez escrito @ y las tres primeras letras, asumiendo que la bib está en el mismo directorio (o probar también si funciona dando el path con YAML)</li>
</ul></li>
<li>Preview
<ul>
<li>markdown se puede visualizar simultáneamente en atom con el paquete markdown-preview-plus (MPP) (ctrl+shift+m). Para que aparezcan las citas y la bibliografía se deben hacer un par de ajustes (* si se instala Rmarkdown, pandoc ya está instalado, pero en el directorio de R y Atom no lo reconoce, por eso recomiendo instalarlo nuevamente):
<ul>
<li>instalar pandoc, en ubuntu
<ul>
<li>sudo apt-get update</li>
<li>sudo apt-get install pandoc</li>
<li>chequear instalado: dpkg -L pandoc</li>
</ul></li>
<li>instalar pandoc citeproc
<ul>
<li>sudo apt-get update</li>
<li>sudo apt-get install pandoc-citeproc</li>
</ul></li>
<li>en las opciones del paquete
<ul>
<li>enable pandoc parser</li>
<li>pandoc options: citations</li>
</ul></li>
<li>en el documento .md crear al principio un YAML header con el path hacia el bib:</li>
</ul></li>
</ul></li>
</ul>
<pre><code>---
bibliography:
- &#39;/media/ntfs/Dropbox/zoterojcydocs/MyLibrary.bib&#39;
---</code></pre>
<ul>
<li><p>con esto, luego el MPP muestra las citas (en el preview)</p></li>
<li><p>Convertir: el paquete pandoc-convert (hasta ahora) no convierte las citas, solo el texto. Lo que funciona es vía linea de comando, abriendo terminal desde atom y:</p>
<ul>
<li>pandoc -s -S –bibliography MyLibrary.bib –filter pandoc-citeproc –csl apa-cv.csl inequality_perception_issp.md -o inequality_perception_issp.html</li>
</ul></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="documentos-reproducibles.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="control-de-versiones.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/03-citandoplano.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
