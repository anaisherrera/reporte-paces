<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Capitulo 2 Documentos reproducibles | Investigación Social Abierta</title>
  <meta name="description" content="Libro Investigación Social Abierta">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Capitulo 2 Documentos reproducibles | Investigación Social Abierta" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Libro Investigación Social Abierta" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capitulo 2 Documentos reproducibles | Investigación Social Abierta" />
  
  <meta name="twitter:description" content="Libro Investigación Social Abierta" />
  

<meta name="author" content="Juan Carlos Castillo">


<meta name="date" content="2019-08-23">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="introduccion.html">
<link rel="next" href="citando-plano.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Investigacion Social Abierta</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Presentación</a></li>
<li class="chapter" data-level="1" data-path="introduccion.html"><a href="introduccion.html"><i class="fa fa-check"></i><b>1</b> Introducción</a></li>
<li class="chapter" data-level="2" data-path="documentos-reproducibles.html"><a href="documentos-reproducibles.html"><i class="fa fa-check"></i><b>2</b> Documentos reproducibles</a><ul>
<li class="chapter" data-level="2.1" data-path="documentos-reproducibles.html"><a href="documentos-reproducibles.html#sobre-texto-plano"><i class="fa fa-check"></i><b>2.1</b> Sobre texto plano</a></li>
<li class="chapter" data-level="2.2" data-path="documentos-reproducibles.html"><a href="documentos-reproducibles.html#markdown"><i class="fa fa-check"></i><b>2.2</b> Markdown</a><ul>
<li class="chapter" data-level="2.2.1" data-path="documentos-reproducibles.html"><a href="documentos-reproducibles.html#marcas-de-edicion"><i class="fa fa-check"></i><b>2.2.1</b> Marcas de edición</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="documentos-reproducibles.html"><a href="documentos-reproducibles.html#knitr"><i class="fa fa-check"></i><b>2.3</b> Knitr</a><ul>
<li class="chapter" data-level="2.3.1" data-path="documentos-reproducibles.html"><a href="documentos-reproducibles.html#trozos-chunks-de-codigo"><i class="fa fa-check"></i><b>2.3.1</b> Trozos (chunks) de código</a></li>
<li class="chapter" data-level="2.3.2" data-path="documentos-reproducibles.html"><a href="documentos-reproducibles.html#tipos-de-chunks"><i class="fa fa-check"></i><b>2.3.2</b> Tipos de chunks</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="documentos-reproducibles.html"><a href="documentos-reproducibles.html#trabajando-con-documentos-dinamicos-en-rstudio"><i class="fa fa-check"></i><b>2.4</b> Trabajando con documentos dinámicos en RStudio</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="citando-plano.html"><a href="citando-plano.html"><i class="fa fa-check"></i><b>3</b> Citando plano</a><ul>
<li class="chapter" data-level="3.1" data-path="citando-plano.html"><a href="citando-plano.html#bibtex-zotero-y-better-bibtex-bbt"><i class="fa fa-check"></i><b>3.1</b> Bibtex, Zotero y Better BibTex (BBT)</a><ul>
<li class="chapter" data-level="3.1.1" data-path="citando-plano.html"><a href="citando-plano.html#sobre-exportar-referencias-en-trabajo-colaborativo"><i class="fa fa-check"></i><b>3.1.1</b> Sobre exportar referencias en trabajo colaborativo</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="citando-plano.html"><a href="citando-plano.html#referenciando-en-tex"><i class="fa fa-check"></i><b>3.2</b> Referenciando en TEX</a></li>
<li class="chapter" data-level="3.3" data-path="citando-plano.html"><a href="citando-plano.html#referenciando-en-markdown"><i class="fa fa-check"></i><b>3.3</b> Referenciando en Markdown</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="control-de-versiones.html"><a href="control-de-versiones.html"><i class="fa fa-check"></i><b>4</b> Control de versiones</a></li>
<li class="chapter" data-level="5" data-path="flujos-reproducibles-y-colaborativos.html"><a href="flujos-reproducibles-y-colaborativos.html"><i class="fa fa-check"></i><b>5</b> Flujos reproducibles y colaborativos</a></li>
<li class="chapter" data-level="6" data-path="comunicacion.html"><a href="comunicacion.html"><i class="fa fa-check"></i><b>6</b> Comunicación</a></li>
<li class="chapter" data-level="7" data-path="flujo-x-en-atom.html"><a href="flujo-x-en-atom.html"><i class="fa fa-check"></i><b>7</b> Flujo X en Atom</a></li>
<li class="chapter" data-level="" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i>Referencias</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Investigación Social Abierta</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="documentos-reproducibles" class="section level1">
<h1><span class="header-section-number">Capitulo 2</span> Documentos reproducibles</h1>
<p>En la investigación académica en general el proceso de escritura se encuentra separado del análisis, en programas y documentos distintos. El traspaso de información entre el programa de análisis y el programa de edición de texto se realiza con un clásico: cortar y pegar.</p>
<p><em>¿Cuáles son las desventajas de cortar y pegar?</em></p>
<ul>
<li><p>La principal es el límite a la reproducibilidad. ¿Cómo identificar los análisis que finalmente son reportados?</p></li>
<li><p>Eficiencia: cada vez que se realicen cambios en los análisis, nuevamente implica cortar-pegar, y es difícil llevar un registro apropiado de las versiones de los documentos.</p></li>
</ul>
<p>Los <strong>documentos dinámicos</strong> permiten lidiar con las limitaciones anteriores, ya que los análisis y resultados están en un mismo documento. Esto es posible ya que se combinan dos lenguajes en texto plano: escritura y código de análisis. La clave es que el programa de edición y de análisis pueda identificar qué secciones del texto corresponden a escritura y cuáles corresponden a análisis.</p>
<div id="sobre-texto-plano" class="section level2">
<h2><span class="header-section-number">2.1</span> Sobre texto plano</h2>
<p><em>¿Por qué escribir en texto plano en lugar de un programa que me muestre inmediatamente el texto y su formato (tipo Word)?</em>
Hay múltiples razones, solo resalto dos:</p>
<p>1 - <strong>Propiedad</strong>: los contenidos guardados en formatos de procesadores comerciales (como Word) dependen del pago de una licencia para poder leerse. Si el software es imposible leerlos, por lo tanto la propiedad de los contenidos guardados en ese formato no son del autor/a, sino de la empresa de software. El texto plano no depende de un software comercial para poder leerse ni modificarse.</p>
<p>2 - <strong>Flexibilidad en incorporación de texto y análisis</strong>: el escribir en texto plano permite incluir en un mismo documento elementos de escritura y de análisis de datos realizado en texto plano, por lo tanto no se requiere cortar ni pegar en otro documento.</p>
<p>Actualmente existen una serie de herramientas que facilitan la elaboración de documentos dinámicos, en particular basados en la librería <code>knitr</code> (tejer). Esta librería permite generar documentos escritos en lenguaje Markdown y análisis realizado en R.</p>
</div>
<div id="markdown" class="section level2">
<h2><span class="header-section-number">2.2</span> Markdown</h2>
<p>Combinar texto y código de análisis requiere que ambos puedan ser generados en una misma plataforma. Y para poder hacer esto, una solución es que lo que se escriba en el documento sea libre de plataforma. El texto plano es una forma de escribir que no requiere ningún programa especial para poder acceder o generar un documento. El ejemplo más cercano para los usuarios de Windows son los archivos .txt, que se pueden abrir con cualquier editor simple.</p>
<p>Ahora bien, también para escribir necesitamos elementos de edición, como por ejemplo encabezados, listas, imágenes, negritas, cursivas. Y es aquí donde Markdown permite integrar elementos de edición en texto plano. ¿Cómo se hace? incorporando código o “marcas” de edición, pero de la manera más simple posible (de ahí el nombre markdown, marcas bajas o pocas marcas). Estas marcas indican las partes del texto que luego serán interpretadas de una manera especial al momento de convertir el documento a otro formato que sea más amigable a la publicación (como html o pdf). Por lo tanto, la manera de trabajar es en base a un editor de texto plano, y que al final se convierte a un documento publicable.</p>
<div id="marcas-de-edicion" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Marcas de edición</h3>
<p><strong>Títulos</strong></p>
<p>Los títulos se generan mediante el caracter # , de la siguiente manera:</p>
<pre><code># Titulo 1
## Título 2
### Título 3</code></pre>
<p>Lo que al convertir genera lo siguiente:</p>
<p><b><font size=6>Titulo 1</font></b></p>
<p><b><font size=5>Titulo 2</font></b></p>
<p><b><font size=4>Titulo 3</font></b></p>
<p><strong>Negritas / cursivas</strong></p>
<pre><code>esto es **negrita**
esto es *cursiva*</code></pre>
<p>esto es <strong>negrita</strong>
esto es <em>cursiva</em></p>
<hr />
<p><strong>Listas</strong></p>
<pre><code>    ```
    - item 1
    - item 2
      - item sub 2
        - item sub 2 sub 2

    1. item
    2. item
        - item
        - item
    ```</code></pre>
<ul>
<li>item 1</li>
<li>item 2
<ul>
<li>item sub 2
<ul>
<li>item sub 2 sub 2</li>
</ul></li>
</ul></li>
</ul>
<ol style="list-style-type: decimal">
<li>item</li>
<li>item
<ul>
<li>item</li>
<li>item</li>
</ul></li>
</ol>
<hr />
<p><strong>Web links</strong></p>
<p><a href="http://www.facso.uchile.cl/">Facso</a>
<a href="http://www.facso.uchile.cl/">http://www.facso.uchile.cl/</a></p>
<pre><code>[Facso](http://www.facso.uchile.cl/)
[http://www.facso.uchile.cl/](http://www.facso.uchile.cl/)</code></pre>
<hr />
<p><strong>Imágenes</strong></p>
<p>En general:</p>
<pre><code>![](ruta-a-imagen/imagen.jpg)</code></pre>
<p>Ejemplo:</p>
<pre><code>![](images/knitr.png)</code></pre>
<p><img src="images/knitr.png" /></p>
<p>Esta imagen se encuentra en el subdirectorio images</p>
<p>Si se desea agregar otros elementos de edición como centrado o tamaño, hay que recurrir a marcas de html:</p>
<pre><code>&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;images/knitr.png&quot; width=&quot;240px&quot; height=&quot;280px&quot;/&gt;
&lt;/p&gt;</code></pre>
<p align="center">
<img src="images/knitr.png" width="240px" height="280px"/>
</p>
<p>Como se puede ver, markdown está hecho para edición simple, y cualquier aspecto que requiera una mayor edición implica recurrir a otros lenguajes, en este caso html.</p>
<hr />
<p><strong>Tablas</strong></p>
<p>Markdown no es un lenguaje óptimo para generar tablas. Justamente se trata de que las tablas sean generadas automáticamente por los programas de análisis de datos. Sin embargo en ocasiones es necesario realizar tablas con contenidos de texto, por ejemplo</p>
<pre><code>Esta        |es        | la tabla
 -          |-         |-
y           | este     | el
contenido   | de las   | celdas</code></pre>
<table>
<thead>
<tr class="header">
<th>Esta</th>
<th>es</th>
<th>la tabla</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>y</td>
<td>este</td>
<td>el</td>
</tr>
<tr class="even">
<td>contenido</td>
<td>de las</td>
<td>celdas</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="knitr" class="section level2">
<h2><span class="header-section-number">2.3</span> Knitr</h2>
<p>Knitr es una librería de R que convierte (compila) documentos escritos en Rmarkdown y que combinan texto y análisis hacia otros formatos. Esto es posible ya que reconoce marcas de edición y código de análisis y permite su transformación a formatos como pdf, word y html. Una representación del flujo según Healey es la siguiente:</p>
<p><img src="images/healeysworkflow.png" /></p>
<p>El documento central de trabajo es uno en formato .Rmd (Rmarkdown), que combina texto en Markdown y código R, lo que se detalla más abajo. La librería <code>Knitr</code> hace la transformación de este documento a formatos como html y/o pdf, para lo cual utiliza el convertidor pandoc.</p>
<p>No es necesario conocer al detalle todos los elementos de este flujo para hacer funcionar un documento dinámico, sino básicamente dos: 1) Markdown, y 2) Trozos de código. Vamos por parte.</p>
<div id="trozos-chunks-de-codigo" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Trozos (chunks) de código</h3>
<p>La caracteristica principal de <code>Knitr</code> es que identifica las secciones de código en la hoja y los ejecuta mediante R. Estos trozos de código se encuentran delimitados de la siguiente manera:</p>
<pre><code>```{r}
    4+5
```</code></pre>
<p>Es decir, todo lo que comience por <code>```r</code> y termine con <code>```</code> será identificado como código de análisis (el atajo para generar un chunk en RStudio es <code>ctrl+alt+i</code>)</p>
</div>
<div id="tipos-de-chunks" class="section level3">
<h3><span class="header-section-number">2.3.2</span> Tipos de chunks</h3>
<p>En general hay cinco opciones básicas de edición relacionadas con chunks y su visualización en el documento final. Esto se maneja mediante opciones que aparecen al inicio en el chunk, luego de la letra <code>r</code></p>
<ol style="list-style-type: decimal">
<li>código y resultado (opción por defecto)</li>
</ol>
<pre><code>```{r}
1 + 1
```</code></pre>
<p>Resulta</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span></code></pre>
<pre><code>## [1] 2</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>solo código, ocultando resultados:</li>
</ol>
<pre><code>```{r, results=&#39;hide&#39;}
1 + 1
```</code></pre>
<p>Resulta:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span></code></pre>
<ol start="3" style="list-style-type: decimal">
<li>solo resultado</li>
</ol>
<pre><code>```{r, echo=FALSE}
1 + 1
```</code></pre>
<p>Resulta:</p>
<pre><code>## [1] 2</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>ni código ni resultado <code>{r echo=FALSE results='hide'}</code></li>
<li>resultado “tal cual como es”: <code>{r results='asis'}</code> se utiliza principalmente para comandos de generación de tablas, que arrojan un código que luego puede ser interpretado por otro lenguaje (por ejemplo, html)</li>
</ol>
</div>
</div>
<div id="trabajando-con-documentos-dinamicos-en-rstudio" class="section level2">
<h2><span class="header-section-number">2.4</span> Trabajando con documentos dinámicos en RStudio</h2>
<p>RStudio es principalmente un editor para análisis de datos con R, pero últimamente ha ido incorporando herramientas para reportes dinámicos. Para ello utiliza un tipo de archivos con extensión <code>Rmd</code> que significa Rmarkdown. Y en este contexto Rmarkdown es la forma en que Rstudio identifica los archivos que combinan texto y código.</p>
<p>Para generar un archivo Rmarkdown, simplemente new file &gt; Rmarkdown</p>
<p><img src="images/rmarkdown.gif" /></p>
<p>Y luego para convertir este documento, presionar el boton <code>Knitr</code>.</p>
<p>El generador de documentos por defecto trae un texto de ejemplo donde hay analisis y tablas, y además dos cosas:</p>
<ul>
<li><p><strong>Preámbulo o YAML (Yet Another Markdown Language)</strong>: esta sección del inicio que se encuentra enmarcada entre <code>---</code> incluye algunos datos básicos del documento que luego se consideran al momento de convertirlo al documento editado final. Por ejemplo, si se prefiere que la conversión sea a html, se incluye la opción <code>output: html_document</code></p>
<pre><code>---
title: &quot;nuevo&quot;
author: &quot;jc&quot;
date: &quot;5/30/2019&quot;
output: html_document
---</code></pre></li>
<li><p><strong>Chunk de opciones generales</strong>: va al inicio del documento, luego del YAML. En general, la que aparece por defecto <code>echo=TRUE</code> se refiere a que se muestren los resultados de los chunks de código.</p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduccion.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="citando-plano.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-docurep.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
